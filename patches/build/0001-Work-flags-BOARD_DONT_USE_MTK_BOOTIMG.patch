From 0db72e5d769875ffbba51652113a83da3109c851 Mon Sep 17 00:00:00 2001
From: vgdn1942 <vgdn1942@gmail.com>
Date: Mon, 30 Oct 2017 01:04:29 +0300
Subject: [PATCH] Work flags BOARD_DONT_USE_MTK_BOOTIMG

Change-Id: I750a2045883aec57fbcf18b2772cce1d6746b748
---
 core/Makefile | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/core/Makefile b/core/Makefile
index 7c48e01..a34f130 100644
--- a/core/Makefile
+++ b/core/Makefile
@@ -540,8 +540,10 @@ ifeq ($(strip $(BOARD_KERNEL_SEPARATED_DT)),true)
 endif
 
 ifeq ($(strip $(BOARD_HAS_MTK_HARDWARE)),true)
+ifneq ($(strip $(BOARD_DONT_USE_MTK_BOOTIMG)),true)
   INTERNAL_BOOTIMAGE_ARGS += --mtk boot
 endif
+endif
 
 INSTALLED_BOOTIMAGE_TARGET := $(PRODUCT_OUT)/boot.img
 
@@ -944,8 +946,10 @@ ifeq ($(strip $(BOARD_KERNEL_SEPARATED_DT)),true)
   RECOVERYIMAGE_EXTRA_DEPS    := $(INSTALLED_DTIMAGE_TARGET)
 endif
 ifeq ($(strip $(BOARD_HAS_MTK_HARDWARE)),true)
+ifneq ($(strip $(BOARD_DONT_USE_MTK_BOOTIMG)),true)
   INTERNAL_RECOVERYIMAGE_ARGS += --mtk recovery
 endif
+endif
 
 # Keys authorized to sign OTA packages this build will accept.  The
 # build always uses dev-keys for this; release packaging tools will
-- 
2.7.4

