From 937ebc0bfef2210d060f42acc1160ba834d94393 Mon Sep 17 00:00:00 2001
From: vgdn1942 <vgdn1942@gmail.com>
Date: Sun, 15 Oct 2017 15:28:42 +0300
Subject: [PATCH] Change audio out for MTK FmRadio (2/3)

Change-Id: Idd80b911938a0144b115c485642135307b80ca3c
---
 include/hardware_legacy/AudioSystemLegacy.h | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

diff --git a/include/hardware_legacy/AudioSystemLegacy.h b/include/hardware_legacy/AudioSystemLegacy.h
index 257fed3..938ded2 100644
--- a/include/hardware_legacy/AudioSystemLegacy.h
+++ b/include/hardware_legacy/AudioSystemLegacy.h
@@ -254,7 +254,11 @@ public:
         DEVICE_OUT_AUX_DIGITAL = 0x400,
         DEVICE_OUT_ANLG_DOCK_HEADSET = 0x800,
         DEVICE_OUT_DGTL_DOCK_HEADSET = 0x1000,
-#ifdef QCOM_HARDWARE
+#if defined(MTK_HARDWARE)
+        DEVICE_OUT_FM = 0x8000,
+        DEVICE_OUT_FM_TX = 0x10000,
+        DEVICE_OUT_DEFAULT = DEVICE_OUT_SPEAKER,
+#elif defined(QCOM_HARDWARE)
         DEVICE_OUT_USB_ACCESSORY = 0x2000,
         DEVICE_OUT_USB_DEVICE = 0x4000,
         DEVICE_OUT_FM = 0x8000,
@@ -263,7 +267,7 @@ public:
         DEVICE_OUT_ANC_HEADPHONE = 0x40000,
         DEVICE_OUT_PROXY = 0x80000,
         DEVICE_OUT_DEFAULT = DEVICE_OUT_SPEAKER,
-#else
+#else 
         DEVICE_OUT_DEFAULT = 0x8000,
 #endif
         DEVICE_OUT_ALL = (DEVICE_OUT_EARPIECE | DEVICE_OUT_SPEAKER | DEVICE_OUT_WIRED_HEADSET |
@@ -271,7 +275,10 @@ public:
                 DEVICE_OUT_BLUETOOTH_SCO_CARKIT | DEVICE_OUT_BLUETOOTH_A2DP | DEVICE_OUT_BLUETOOTH_A2DP_HEADPHONES |
                 DEVICE_OUT_BLUETOOTH_A2DP_SPEAKER | DEVICE_OUT_AUX_DIGITAL |
                 DEVICE_OUT_ANLG_DOCK_HEADSET | DEVICE_OUT_DGTL_DOCK_HEADSET |
-#ifdef QCOM_HARDWARE
+#if defined(MTK_HARDWARE)
+                DEVICE_OUT_FM | DEVICE_OUT_FM_TX |
+                DEVICE_OUT_DEFAULT),
+#elif defined(QCOM_HARDWARE)
                 DEVICE_OUT_USB_ACCESSORY | DEVICE_OUT_USB_DEVICE |
                 DEVICE_OUT_ANC_HEADSET | DEVICE_OUT_ANC_HEADPHONE |
                 DEVICE_OUT_FM | DEVICE_OUT_FM_TX |
-- 
2.7.4

