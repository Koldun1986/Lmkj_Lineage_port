From d5ba5c5d44d63a2dbbf95641211727782ffee651 Mon Sep 17 00:00:00 2001
From: vgdn1942 <vgdn1942@gmail.com>
Date: Sun, 15 Oct 2017 15:27:05 +0300
Subject: [PATCH] Change audio out for MTK FmRadio (1/3)

Change-Id: Ib6155c9040f017bce16c480d3c0742f1808bd1f9
---
 include/system/audio.h | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

diff --git a/include/system/audio.h b/include/system/audio.h
index 1af31fc..a6f6876 100644
--- a/include/system/audio.h
+++ b/include/system/audio.h
@@ -71,7 +71,7 @@ typedef enum {
     AUDIO_STREAM_REROUTING        = 11, /* For dynamic policy output mixes */
     AUDIO_STREAM_PATCH            = 12, /* For internal audio flinger tracks. Fixed volume */
     AUDIO_STREAM_PUBLIC_CNT       = AUDIO_STREAM_TTS + 1,
-#ifdef QCOM_HARDWARE
+#if defined(QCOM_HARDWARE) && !defined(QCOM_DIRECTTRACK)
     AUDIO_STREAM_INCALL_MUSIC     = 13,
     AUDIO_STREAM_CNT              = AUDIO_STREAM_INCALL_MUSIC + 1,
 #else
@@ -680,7 +680,9 @@ enum {
     AUDIO_DEVICE_OUT_AUX_LINE                  = 0x200000,
     /* limited-output speaker device for acoustic safety */
     AUDIO_DEVICE_OUT_SPEAKER_SAFE              = 0x400000,
-#ifdef QCOM_HARDWARE
+#if defined(MTK_HARDWARE)
+    AUDIO_DEVICE_OUT_FM_TX                     = 0x1000000,
+#elif defined(QCOM_HARDWARE)
     AUDIO_DEVICE_OUT_FM_TX                     = 0x1000000,
     AUDIO_DEVICE_OUT_PROXY                     = 0x2000000,
 #endif
@@ -708,7 +710,9 @@ enum {
                                  AUDIO_DEVICE_OUT_FM |
                                  AUDIO_DEVICE_OUT_AUX_LINE |
                                  AUDIO_DEVICE_OUT_SPEAKER_SAFE |
-#ifdef QCOM_HARDWARE
+#if defined(MTK_HARDWARE)
+                                 AUDIO_DEVICE_OUT_FM_TX |
+#elif defined(QCOM_HARDWARE)
                                  AUDIO_DEVICE_OUT_FM_TX |
                                  AUDIO_DEVICE_OUT_PROXY |
 #endif
-- 
2.7.4

